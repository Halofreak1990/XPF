//-------------------------------------------------------------------------------------------------
// <auto-generated> 
// Marked as auto-generated so StyleCop will ignore BDD style tests
// </auto-generated>
//-------------------------------------------------------------------------------------------------

#pragma warning disable 169
// ReSharper disable InconsistentNaming
// ReSharper disable UnusedMember.Global
// ReSharper disable UnusedMember.Local

namespace RedBadger.Xpf.Specs.Presentation.Media.DrawingContextSpecs
{
    using System;

    using Machine.Specifications;

    using Moq;

    using RedBadger.Xpf.Presentation;
    using RedBadger.Xpf.Presentation.Media;

    using It = Machine.Specifications.It;

    [Subject(typeof(DrawingContext), "State")]
    public class when_close_is_called_and_the_context_is_already_closed : a_DrawingContext
    {
        private static Exception exception;

        private Because of = () => exception = Catch.Exception(() => DrawingContext.Close());

        private It should_throw_an_exception = () => exception.ShouldBeOfType<InvalidOperationException>();
    }

    [Subject(typeof(DrawingContext), "State")]
    public class when_open_is_called_and_the_context_is_already_open : a_DrawingContext
    {
        private static Exception exception;

        private Establish context = () => DrawingContext.Open(UiElement.Object);

        private Because of = () => exception = Catch.Exception(() => DrawingContext.Open(UiElement.Object));

        private It should_throw_an_exception = () => exception.ShouldBeOfType<InvalidOperationException>();
    }

    [Subject(typeof(DrawingContext), "State")]
    public class when_open_is_called_after_the_drawing_context_has_been_closed : a_DrawingContext
    {
        private static Exception exception;

        private Establish context = () =>
            {
                DrawingContext.Open(UiElement.Object);
                DrawingContext.Close();
            };

        private Because of = () => exception = Catch.Exception(() => DrawingContext.Open(UiElement.Object));

        private It should_not_throw_an_exception = () => exception.ShouldBeNull();
    }

    [Subject(typeof(DrawingContext), "State")]
    public class when_the_drawing_context_is_flushed_whilst_open : a_DrawingContext
    {
        private static Exception exception;

        private Establish context = () => DrawingContext.Open(UiElement.Object);

        private Because of = () => exception = Catch.Exception(() => DrawingContext.Draw(SpriteBatch.Object));

        private It should_throw_an_exception = () => exception.ShouldBeOfType<InvalidOperationException>();
    }
}